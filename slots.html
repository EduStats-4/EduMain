<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <meta/>
  <title>Machine à sous brouillé</title>
</head>
<body>
  <div class="container">
    <div class="title">Machine à sous brouillé(scrambled slot machine)</div>
    <div id="categorie"></div>
    <div id="scrambled" class="scrambledMot"></div>
    <input type="text" id="reponse" placeholder="Votre devinette..." />
    <button onclick="verReponse()">Soumettre</button>
    <div class="message" id="message"></div>
    <div class="pts">DDAK's: <span id="pts">0</span></div>
  </div>

  <script>
    const mots = [
      { mot: "gravité", categorie: "Physique" },
      { mot: "proton", categorie: "Chimie" },
      { mot: "évolution", categorie: "Biologie" },
      { mot: "equation", categorie: "Mathématique" },
      { mot: "canada", categorie: "Pays" },
    ];

    let actuelMot = {};
    let pts = 0;

    function scramble(mot) {
      return mot.split('').sort(() => Math.random() - 0.5).join('');
    }

    function choisiNewMot() {
      actuelMot = mots[Math.floor(Math.random() * mots.length)];
      document.getElementById("scrambled").textContent = scramble(actuelMot.mot);
      document.getElementById("categorie").innerHTML = `Catégorie: <b>${actuelMot.categorie}</b>`;
      document.getElementById("reponse").value = "";
      document.getElementById("message").textContent = "";
    }

    function verReponse() {
      const reponse = document.getElementById("reponse").value.toLowerCase().trim();
      if (reponse === actuelMot.mot) {
        pts += 50;
        document.getElementById("message").textContent = "Correcte, vous avez gagné 50 DDAK's";
      } else {
        pts -= 50;
        document.getElementById("message").textContent = "Incorrecte, vous avez perdu 50 DDAK's";
      }
      document.getElementById("pts").textContent = pts;
      setTimeout(choisiNewMot, 2500);
    }

    choisiNewMot();
  </script>
</body>
</html>
